<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{administrativo/fragments/layout}">
<head>
    <title>Página Cadastro de Consultas - LifeInYourHands</title>
</head>
<body>
		<section class="layout-content" layout:fragment="corpo">
			<div class="page-header">
				<nav class="navbar navbar-expand-md navbar-top bg-light">
					<div class="collapse navbar-collapse" id="navbarsExampleDefault">
						<ul class="navbar-nav">
							<li class="nav-item active"><i class="oi oi-caret-right"></i>
								<span>Cadastrar Consulta</span></li>
						</ul>
					</div>
					<a class="btn btn-primary btn-md"
						href="/administrativo/consultas/listar" role="button"> <span
						class="oi oi-spreadsheet" title="Cadastro" aria-hidden="true"></span>
						<span>Listar consultas</span>
					</a>
				</nav>
			</div>

			<div class="container" id="cadastro">
				
				<!-- 
					<nav class="navbar navbar-expand navbar-light bg-light d-flex justify-content-between mb-3">
				    <div class="navbar-nav">
				        <a class="nav-item nav-link" th:href="@{/administrativo/ficha_geral/listar/{idPaciente}(idPaciente=${consulta.paciente.id})}">Ficha Geral</a>
				        <a class="nav-item nav-link" th:href="@{/administrativo/exames/listar/{idConsulta}(idConsulta=${consulta.id})}">Exames</a>
				        <a class="nav-item nav-link" th:href="@{/administrativo/procedimentos/listar/{idConsulta}(idConsulta=${consulta.id})}">Procedimentos</a>
				        <a class="nav-item nav-link" th:href="@{/administrativo/medicamentos/listar/{idConsulta}(idConsulta=${consulta.id})}">Medicamentos</a>
				    </div>
				    <a href="/pedido/formulario"><button class="btn btn-outline-secondary my-2 my-sm-0">Novo</button></a>
				</nav>
				 -->
				<form action="/administrativo/consultas/salvar" th:object="${consulta}" method="POST">
				
				
				<div class="form-row">
				<div class="form-group col-md-12">
						<label for="paciente">Nome do Paciente</label> <input type="text"
							class="form-control" id="paciente" name="paciente" readonly="readonly"
							autofocus="autofocus" th:field="*{paciente.nome}" value="" />
					</div>
				</div>
				<!--  
				<div class="form-row">
					<div class="form-group col-md-6">
						<label for="nome">Nome do Paciente</label> <input type="text"
							class="form-control" id="nome" name="nome" placeholder="Digite o Nome Completo do Paciente"
							autofocus="autofocus" th:field="*{nome}" value="" />
						<div class="invalid-feedback"></div>
					</div>
					<div class="form-group col-md-6">
						<label for="cpf">CPF</label> <input type="text"
							class="form-control" id="cpf" name="cpf"  data-mask="000.000.000-00"  placeholder="CPF"
							autofocus="autofocus" th:field="*{cpf}" value="" />
						<div class="invalid-feedback"></div>
					</div>
				</div>
				-->
				
					<div class="form-row">
						<div class="form-group col-md-6">
						<label for="especialidade_id">Especialidade</label> <select id="especialidade_id" th:field="*{medico.especialidade}"
							class="form-control" name="especialidade_id" onchange="preencherMedicosByEspecialidade('/administrativo/consultas/preencher_medicos_consulta');">
							<option th:each="esp: ${listaEspecialidades}" th:value="${esp.id}"
								th:text="${esp.nome}"></option>
						</select>
						<div class="invalid-feedback"></div>
					</div>
					<div class="form-group col-md-6">
						<label for="medico_id">Médico</label> <select id="medico_id"  th:field="*{medico}"
							class="form-control" name="medico_id" onchange="preencherGradeByMedico('/administrativo/consultas/preencher_grd_consulta');">
							<option th:each="med: ${listaMedicos}" th:value="${med.id}"
								th:text="${med.nome}"></option>
						</select>
						<div class="invalid-feedback"></div>
					</div>
					</div>
					<div class="form-row">
					<div class="form-group col-md-6">
						<label for="grade_horario">Data Disponível</label> <select id="grade_horario" th:field="*{dataConsultaStr}"
							class="form-control" name="grade_horario">
							<option th:each="grd: ${gradesHorario}" th:value="${grd.dataDeAtendimento}" 
								th:text="${grd.dataDeAtendimento}"></option>
								<!-- th:text="${#calendars.format(grd.dataDeAtendimento,'dd/MMM/yyyy HH:mm')}"></option> -->
						</select>
						<div class="invalid-feedback"></div>
					</div>
					</div>
					
					

					<input type="hidden" id="id" th:field="*{id}" value="" />
					<input type="hidden" id="idPaciente" th:field="*{paciente.id}" value="" />
					<button type="submit" class="btn btn-primary btn-sm">Salvar</button>
				</form>
			</div>
		</section>

	
</body>
</html>
